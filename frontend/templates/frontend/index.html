<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <meta name="image" content="{{ logo }}">
  <link rel="icon" type="image/x-icon" href="{{ logo }}">
  <title>{{ citename }}</title>
</head>
<body>
<div id="app">
    <!-- Запускаем react-приложение -->
</div>
</body>
{% load static %}
<script src="{% static "frontend/csrftoken.js" %}"></script>
<script src="{% static "frontend/main.js" %}"></script>
<script src="{% static "frontend/scripts.js" %}"></script>
<script>

var worker = new Worker("{% static "frontend/worker.js" %}");

function senda(){
	worker.postMessage('123')
}

worker.addEventListener('message', function(e) {
	setTimeout(() => {
	  Notification.requestPermission(function(status) {  // status is "granted", if accepted by user
			var n = new Notification('Title', { 
				body: e.data,
				icon: '/path/to/icon.png' // optional
			}); 
		});
	}, "3000");
})

</script>
</html>